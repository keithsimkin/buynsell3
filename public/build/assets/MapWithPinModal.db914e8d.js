import{A as b,H as v}from"./index.448b1588.js";import h from"./PsModal.49a87bcd.js";import C from"./PsLabelTitle.8e337e9e.js";import $ from"./PsButton.81d0ce1f.js";import{u as w}from"./AppInfoStore.3eac0301.js";import{A as I}from"./AppInfoParameterHolder.e24d894d.js";import{P as S}from"./PsValueStore.46e374fe.js";import{P as k}from"./PsUtils.eb7a8002.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import{d as z,i,o as A,f as B,w as t,b as m,q as M,t as P,a as D,r as n}from"./app.72d9fe45.js";import"./vue-neat-modal.d239f4e3.js";import"./PsLine.c7f2ab42.js";import"./PsLabel.dd7b9156.js";import"./PsApiService.74841eb2.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./ps_constants.ea9d0b33.js";const L=z({name:"MapWithPinModal",components:{PsModal:h,GoogleMap:b,Marker:v,PsLabelTitle:C,PsButton:$},setup(){const o=i(),r=i(),a=i({position:{lat:40.876945,lng:77.387978},draggable:!1}),_=S().getLoginUserId(),s=w(),d=new I;d.userId=_;const p=i({key:"000",center:a.value.position,zoom:15});async function f(){var e,l,g;p.value.key=(g=(l=(e=s==null?void 0:s.appInfo)==null?void 0:e.data)==null?void 0:l.frontendConfigSetting)==null?void 0:g.mapKey}f();function c(e){k.log(e.latLng.lat()),k.log(e.latLng.lng())}function u(e,l){a.value.position.lat=e,a.value.position.lng=l,o.value.toggle(!0)}return{psmodal:o,updateCoordinates:c,mcenter:a,map:p,openModal:u,map_ref:r}}}),G={class:"flex justify-end"};function H(o,r,a,y,_,s){const d=n("ps-label-title"),p=n("Marker"),f=n("GoogleMap"),c=n("ps-button"),u=n("ps-modal");return A(),B(u,{ref:"psmodal",isClickOut:!1},{title:t(()=>[m(d,null,{default:t(()=>[M(P(o.$t("map_with_pin_moadl__item_location")),1)]),_:1})]),body:t(()=>[m(f,{id:"map",ref:"map_ref","api-key":o.map.key,center:o.map.center,zoom:o.map.zoom,style:{width:"100%",height:"500px"}},{default:t(()=>[m(p,{options:o.mcenter,draggable:"false",onDrag:o.updateCoordinates},null,8,["options","onDrag"])]),_:1},8,["api-key","center","zoom"])]),footer:t(()=>[D("div",G,[m(c,{onClick:r[0]||(r[0]=e=>o.psmodal.toggle(!1))},{default:t(()=>[M(P(o.$t("map_with_pin_moadl__ok")),1)]),_:1})])]),_:1},512)}var oo=V(L,[["render",H]]);export{oo as default};
