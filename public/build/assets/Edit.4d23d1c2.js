import{d as N,Z as U,E as M,i as p,u as E,G as I,z as _,o as f,c as h,b as r,w as a,q as l,t as c,a as w,F as L,s as T,f as J,g as D,r as t}from"./app.72d9fe45.js";import{S as q,P as G}from"./PsVendorLayout.71fb0f78.js";import{P as Z}from"./PsBreadcrumb2.c233a04a.js";import{a as A}from"./PsDangerDialog.4a7cc4cb.js";import{P as K}from"./PsButton.75e226c0.js";import Q from"./VendorDetailVendorInfo.46e7a42d.js";import R from"./VendorDetailSubscriptionNotification.f5a7e417.js";import W from"./VendorDetailStoreBranches.c02093c2.js";import{P as X}from"./PsLabel.9b145d71.js";import{P as Y}from"./PsLoadingCircleDialog.70b57269.js";import{P as ee}from"./PsSuccessDialog.4b6e8f79.js";import{P as oe}from"./PsIcon.8d64a589.js";import{_ as re}from"./plugin-vue_export-helper.21dcd24c.js";import"./TitleBar.7a1c6559.js";import"./PsDropdown.dd6513b3.js";import"./PsDropdownSelect.2cfdee10.js";import"./PsToggle.8b891384.js";import"./toggle.11911129.js";import"./PsWarningDialog.632500d7.js";import"./PsModal.9ecdc9db.js";import"./vue-neat-modal.d239f4e3.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./Icons.c01eddd9.js";import"./SidebarMenu.ec741711.js";import"./SidebarMenuItem.9469c8c6.js";import"./SidebarSubTab.7743e9bd.js";import"./PsErrorDialog.5174f1d4.js";import"./PsInputWithRightIcon.e27f7629.js";import"./PsIcon1.56bc2bff.js";import"./PsInput.afea411a.js";import"./PsTextarea.b6da5576.js";import"./PsImageUpload2.2521319b.js";import"./DatePicker.af815a5d.js";import"./main.09d396a4.js";import"./index.bb4ebfff.js";import"./CheckBox.e8d92e37.js";import"./PsRadioValue.c8745a39.js";import"./PsLabelCaption.0e118b2b.js";import"./psApiService.abb19e3d.js";import"./moment.9709ab41.js";import"./PsImageUpload.61e8f8c2.js";import"./PsLabelTitle3.dae97f2a.js";import"./PsDraggable.2c92160e.js";import"./PsLoading.1f14f5af.js";const te=N({name:"Index",components:{Head:U,PsBreadcrumb2:Z,PsLabelHeader6:A,PsButton:K,VendorDetailVendorInfo:Q,VendorDetailStoreBranches:W,VendorDetailSubscriptionNotification:R,PsLabel:X,PsSuccessDialog:ee,PsLoadingCircleDialog:Y,PsIcon:oe,SetDefaultVendorCurrencyModal:q},layout:G,props:{storeCan:Object,errors:Object,vendor:Object,coreFieldFilterSettings:Object,branchesCoreFieldFilterSettings:Object,customizeHeaders:Object,customizeDetails:Object,validation:Object,authUser:Object},setup(e){var S,k,B;let o=M({id:e.vendor.id,name:e.vendor.name,email:e.vendor.email,phone:e.vendor.phone,address:e.vendor.address,description:e.vendor.description,website:e.vendor.website,facebook:e.vendor.facebook,instagram:e.vendor.instagram,logo:(S=e.vendor.logo)==null?void 0:S.img_path,banner_1:(k=e.vendor.banner_1)==null?void 0:k.img_path,banner_2:(B=e.vendor.banner_2)==null?void 0:B.img_path,vendor_relation:{},vendorBranches:e.vendor.vendorBranches,_method:"put"});const n=p(0),s=p(!0),P=p(!0),m=E({data:[]}),u=p(),y=p(),$=p(),d={id:"",vendor_id:"",name:"",email:"",phone:"",address:"",description:"",added_user_id:"",added_date_str:"",is_empty_object:1};I(()=>e.vendor,(v,i)=>{var C,j,O;s.value=!1,g(),o.name=e.vendor.name,o.id=e.vendor.id,o.phone=e.vendor.phone,o.address=e.vendor.address,o.description=e.vendor.description,o.website=e.vendor.website,o.facebook=e.vendor.facebook,o.instagram=e.vendor.instagram,o.logo=(C=e.vendor.logo)==null?void 0:C.img_path,o.banner_1=(j=e.vendor.banner_1)==null?void 0:j.img_path,o.banner_2=(O=e.vendor.banner_2)==null?void 0:O.img_path,e.vendor.currency_id==""||e.vendor.currency_id==null,setTimeout(()=>{s.value=!0},200),e.customizeHeaders.map((z,me)=>{e.vendor.vendor_relation.map(H=>{if(z.core_keys_id===H.core_keys_id){let V=H.value;o.vendor_relation[z.core_keys_id]=V==="1"?!0:V==="0"?!1:V}})})}),g();function g(){e.vendor.vendorBranches.length==1&&e.vendor.vendorBranches[0].is_empty_object=="1"?(n.value=0,m.data=[],o.vendorBranches=[]):(n.value=e.vendor.vendorBranches.length,m.data=e.vendor.vendorBranches,o.vendorBranches=e.vendor.vendorBranches)}function F(v){n.value=n.value-1,m.data.splice(v,1)}function b(){n.value=n.value+1,m.data.push(JSON.parse(JSON.stringify(d)))}function x(v){o.vendorBranches=m.data,this.$inertia.post(route("vendor_info.update",v),o,{forceFormData:!0,onBefore:()=>{u.value.openModal(_("core_vendor__update_vendor_title"),_("core_vendor__update_vendor_note"))},onSuccess:()=>{u.value.closeModal(),y.value.openModal(_("core_vendor__update_vendor_success"),_("core_vendor__update_vendor_success_message"),_("core__vendor_btn_ok"),()=>{},!1)},onError:()=>{u.value.closeModal()}})}return{form:o,showNoti:P,vendorShow:n,removeVendorBranch:F,addVendorBranch:b,vendorStatus:s,vendorList:m,handleSubmit:x,ps_loading_circle_dialog:u,ps_success_dialog:y,set_default_vendor_currency_modal:$}},computed:{breadcrumb(){return[{label:_("core__vendor_my_store_module")},{label:_("core_vendor__edit_vendor_info"),color:"text-primary-500"}]}},methods:{handleCancel(){this.$inertia.get(route("vendor_info.index"))}},created(){this.customizeHeaders.map((e,o)=>{this.vendor.vendor_relation.map(n=>{if(e.core_keys_id===n.core_keys_id){let s=n.value;this.form.vendor_relation[e.core_keys_id]=s==="1"?!0:s==="0"?!1:s}})})}}),ne={class:"rounded-md border border-secondary-200 px-6 py-8 mb-8"},ae={key:0,class:"rounded-md border border-secondary-200 px-6 py-8 mb-8"},de={class:"mt-6"},se={class:"flex flex-row justify-end space-x-4"},ie={key:1,class:"flex"},le={class:"mb-2.5 flex flex-row justify-end"};function ce(e,o,n,s,P,m){const u=t("Head"),y=t("ps-breadcrumb-2"),$=t("vendor-detail-subscription-notification"),d=t("ps-label"),g=t("vendor-detail-vendor-info"),F=t("vendor-detail-store-branches"),b=t("ps-icon"),x=t("ps-button"),S=t("ps-loading-circle-dialog"),k=t("ps-success-dialog"),B=t("set-default-vendor-currency-modal"),v=t("ps-layout");return f(),h(L,null,[r(u,{title:e.$t("core__vendor_my_store_module")},null,8,["title"]),r(v,null,{default:a(()=>[r(y,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),r($,{expiredStatus:e.vendor.expire_status,expiredDate:e.vendor.expired_date},null,8,["expiredStatus","expiredDate"]),r(d,{class:"mb-8 text-xl lg:text-3xl font-semibold"},{default:a(()=>[l(c(e.$t("core_vendor__vendor_info")),1)]),_:1}),w("div",ne,[r(d,{class:"text-xl lg:text-2xl font-semibold"},{default:a(()=>[l(c(e.$t("core_vendor__basic_info")),1)]),_:1}),r(g,{class:"mt-8",validation:e.validation,errors:e.errors,form:e.form,coreFieldFilterSettings:e.coreFieldFilterSettings,customizeHeaders:e.customizeHeaders,authUser:e.authUser,customizeDetails:e.customizeDetails},null,8,["validation","errors","form","coreFieldFilterSettings","customizeHeaders","authUser","customizeDetails"])]),e.vendorStatus&&e.vendorShow>0?(f(),h("div",ae,[r(d,{class:"text-xl lg:text-2xl font-semibold flex flex-col space-y-8"},{default:a(()=>[l(c(e.$t("core_vendor__vendor_branches")),1)]),_:1}),(f(!0),h(L,null,T(e.vendorShow,i=>(f(),h("div",{key:i},[r(F,{class:"mt-8",storeBranches:e.vendorList.data[i-1],authUser:e.authUser,coreFieldFilterSettings:e.branchesCoreFieldFilterSettings},null,8,["storeBranches","authUser","coreFieldFilterSettings"]),w("div",de,[w("div",se,[i==e.vendorShow?(f(),J(d,{key:0,onClick:o[0]||(o[0]=C=>e.addVendorBranch()),class:"flex flex-row text-base cursor-pointer px-4 py-2 border border-primary-500 rounded text-primary-500",textColor:"text-primary-500"},{default:a(()=>[r(b,{name:"plus",class:"me-1"}),l(" "+c(e.$t("core_vendor__add_branch")),1)]),_:1})):D("",!0),r(d,{class:"flex flex-row px-4 py-2 border border-primary-500 rounded text-base cursor-pointer text-primary-500",textColor:"text-primary-500",onClick:C=>e.removeVendorBranch(i-1)},{default:a(()=>[r(b,{name:"minus",class:"me-1"}),l(" "+c(e.$t("core_vendor__remove_branch")),1)]),_:2},1032,["onClick"])])])]))),128))])):D("",!0),e.vendorShow==0?(f(),h("div",ie,[r(d,{onClick:o[1]||(o[1]=i=>e.addVendorBranch()),class:"flex flex-row mb-8 text-base cursor-pointer px-4 py-2 border border-primary-500 rounded text-primary-500",textColor:"text-primary-500"},{default:a(()=>[r(b,{name:"plus",class:"me-1"}),l(" "+c(e.$t("core_vendor__add_branch")),1)]),_:1})])):D("",!0),w("div",le,[r(x,{onClick:o[2]||(o[2]=i=>e.handleCancel()),type:"reset",class:"me-4",colors:"text-primary-500",hover:""},{default:a(()=>[l(c(e.$t("core__vendor_btn_cancel")),1)]),_:1}),r(x,{disabled:!e.storeCan.updateMyVendor,onClick:o[3]||(o[3]=i=>e.handleSubmit(e.vendor.id)),class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:a(()=>[r(d,{textColor:"text-white dark:text-secondaryDark-black"},{default:a(()=>[l(c(e.$t("core__vendor_btn_update")),1)]),_:1})]),_:1},8,["disabled"])]),r(S,{ref:"ps_loading_circle_dialog"},null,512),r(k,{ref:"ps_success_dialog"},null,512),r(B,{ref:"set_default_vendor_currency_modal"},null,512)]),_:1})],64)}var to=re(te,[["render",ce]]);export{to as default};
