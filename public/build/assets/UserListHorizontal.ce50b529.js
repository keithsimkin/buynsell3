import{i as U,o as g,c as b,b as r,w as s,a as n,m as I,g as N,q as i,t as a,f as S,n as L,F as P,z as h,O as F,r as d,C as H}from"./app.72d9fe45.js";import V from"./PsCard.c6bb6e2a.js";import z from"./PsLabel.dd7b9156.js";import j from"./PsButton.81d0ce1f.js";import B from"./PsIcon.c404b5b9.js";import D from"./RatingShow.f25d8e9c.js";import O from"./PsLabelCaption.9bd8d857.js";import R from"./PsRouteLink.ab373f40.js";import A from"./PsLoadingDialog.52bc8b7d.js";import{U as q}from"./User.0c3ba1a8.js";import{u as E}from"./UserListStore.846fce4f.js";import{U as k,u as M}from"./UserStore.e188dd03.js";import{P as T}from"./PsValueStore.46e374fe.js";import{U as W}from"./UserFollowHolder.8b598f9e.js";import{P as G}from"./ps_constants.ea9d0b33.js";import{u as J}from"./ProductStore.017d2a02.js";import{_ as K}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.49a87bcd.js";import"./vue-neat-modal.d239f4e3.js";import"./PsLine.c7f2ab42.js";import"./PsLabelTitle.8e337e9e.js";import"./PsObject.a17ef38f.js";import"./RatingDetail.291ad5d1.js";import"./ProductRelation.0b376978.js";import"./PsApiService.74841eb2.js";import"./UserListParameterHolder.d110b747.js";import"./PsSepetetedStore.9a31ac47.js";import"./DefaultPhoto.cc755f93.js";import"./ApiStatus.5720ba0b.js";import"./ProductParameterHolder.b9a2d040.js";import"./Phone.45f97258.js";import"./Product.0519ee40.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./ItemLocationTownship.94979fe0.js";import"./Vendor.d946ee87.js";import"./UserDeleteItemParameterHolder.5d816aba.js";const Q={name:"UserListHorizontal",components:{PsCard:V,PsLabel:z,PsButton:j,PsIcon:B,Rating:D,PsLabelCaption:O,PsRouteLink:R,PsLoadingDialog:A},props:{user:{type:q},onClick:Function,storeName:{type:String,default:""},color:{type:String,default:"bg-feAchromatic-50"}},setup(o){const f=J("detail"),t=T().getLoginUserId(),m=U(),p=new W,w=new k().getFollowerUsers(),c=new k().getFollowingUsers();w.loginUserId=t,c.loginUserId=t;const l=E(o.storeName),u=M(o.storeName);async function _(y){t&&t!=G.NO_LOGIN_USER?(m.value.openModal(),y.isFollowed=="1"?m.value.message=h("other_profile__removing_user_from_follower_list"):m.value.message=h("other_profile__adding_user_to_follower_list"),p.userId=t,p.followedUserId=y.userId,await u.postUserFollow(p),x(),m.value.closeModal()):F.get(route("login"))}async function x(){o.storeName=="profile-follower"?await l.refleshUserFollowerFollowingList(t,w):o.storeName=="profile-following"?await l.refleshUserFollowerFollowingList(t,c):o.storeName=="top_rated_seller"?await l.refleshTopRatedSellerList(t):o.storeName=="userSearch"?await u.refleshUserSearchList(t,u.userparamHolder):await f.loadItem(o.storeName,t)}return{userListStore:l,followClick:_,LoginUserId:t,psloading:m}}},X={class:"items-center justify-center shadow-sm relative border border-feSecondary-50 dark:border-feSecondary-800 rounded-lg flex flex-col gap-4 p-4"},Y={class:"flex gap-4"},Z={class:"w-20 h-20 relative cursor-pointer"},$={alt:"Placeholder",width:"15px",height:"10px",class:"w-full h-full rounded-full object-cover"},ee={key:0,class:"w-8 h-8 bg-feInfo-500 rounded-full p-1 absolute bottom-0 right-0"},oe=n("div",{class:"self-center hidden"},null,-1),te={class:"flex items-center justify-center"},re={class:"grow flex flex-col gap-2 items-center justify-center truncate"},se={class:"flex items-center justify-between w-full mx-auto"},le={class:"flex items-center gap-1 col-span-1 md:col-span-2 lg:col-span-1"},ae={class:"h-9"};function ie(o,f,e,t,m,p){const w=d("ps-icon"),c=d("ps-route-link"),l=d("ps-label"),u=d("rating"),_=d("ps-button"),x=d("ps-card"),y=d("ps-loading-dialog"),v=H("lazy");return g(),b(P,null,[r(x,{class:L(["flex w-full flex-col lg:rounded-lg shadow-sm",e.color]),enabledHover:!0},{default:s(()=>[n("div",X,[n("div",Y,[r(c,{to:{name:"fe_other_profile",params:{userId:e.user.userId}}},{default:s(()=>[n("div",Z,[I(n("img",$,null,512),[[v,{src:o.$page.props.thumb1xUrl+"/"+e.user.userCoverPhoto,loading:o.$page.props.sysImageUrl+"/loading_gif.gif",error:o.$page.props.sysImageUrl+"/default_profile.png"}]]),e.user.isVerifybluemark=="1"?(g(),b("div",ee,[r(w,{name:"bluemark",textColor:"text-feSecondary-50",w:"24",h:"24"})])):N("",!0)])]),_:1},8,["to"]),oe]),n("div",te,[n("div",re,[r(c,{to:{name:"fe_other_profile",params:{userId:e.user.userId}},class:"cursor-pointer"},{default:s(()=>[r(l,{textColor:"text-lg font-semibold text-feSecondary-800 dark:text-feSecondary-50"},{default:s(()=>[i(a(e.user.userName.length>17?e.user.userName.slice(0,17)+"...":e.user.userName),1)]),_:1})]),_:1},8,["to"]),r(c,{to:{name:"fe_review_list",query:{user_id:e.user.userId}}},{default:s(()=>[n("div",se,[r(u,{rating:e.user?Number(e.user.overallRating):0,maxStars:5,iconColor:"text-feWarning-500 dark:text-feWarning-500",size:"1x"},null,8,["rating"]),r(l,{textColor:"text-sm font-medium text-feSecondary-500 dark:text-feSecondary-50"},{default:s(()=>[i(a("(")+a(e.user.ratingCount)+a(")"),1)]),_:1})])]),_:1},8,["to"]),n("div",le,[r(l,{textColor:"text-sm mr-1 font-medium font-semibold text-feSecondary-800 dark:text-feSecondary-50"},{default:s(()=>[i(a(e.user?e.user.followerCount:"0"),1)]),_:1}),r(l,{textColor:"text-sm mr-1 font-medium text-feSecondary-800 dark:text-feSecondary-50"},{default:s(()=>[i(a(o.$t("profile__followers")),1)]),_:1}),r(l,{textColor:"text-sm mr-1 font-medium text-feSecondary-200 dark:text-feSecondary-50"},{default:s(()=>[i(a(o.$t("|")),1)]),_:1}),r(l,{textColor:"text-sm mr-1 font-medium font-semibold text-feSecondary-800 dark:text-feSecondary-50"},{default:s(()=>[i(a(e.user?e.user.activeItemCount:"0"),1)]),_:1}),r(l,{textColor:"text-sm font-medium text-feSecondary-800 dark:text-feSecondary-50"},{default:s(()=>[i(a(o.$t("user__item")),1)]),_:1})])])]),n("div",ae,[e.user.userId==t.LoginUserId?(g(),S(_,{key:0,border:"border border-feSecondary-200 dark:border-feSecondary-600",colors:"bg-feAchromatic-50 text-feSecondary-800 dark:bg-feSecondary-800 dark:text-feSecondary-200",class:"'w-full absolute bottom-4 right-4 left-4",disabled:""},{default:s(()=>[i(a(o.$t("other_profile__follow")),1)]),_:1})):e.user.isFollowed=="0"?(g(),S(_,{key:1,border:"border border-feSecondary-200 dark:border-feSecondary-600",colors:"bg-feAchromatic-50 text-feSecondary-800 dark:bg-feSecondary-800 dark:text-feSecondary-200",class:"'w-full absolute bottom-4 right-4 left-4",onClick:f[0]||(f[0]=C=>t.LoginUserId==e.user.userId?"":t.followClick(e.user))},{default:s(()=>[i(a(o.$t("other_profile__follow")),1)]),_:1})):(g(),S(_,{key:2,border:"border border-feSecondary-200 dark:border-feSecondary-600",colors:"bg-feAchromatic-50 text-feSecondary-800 dark:bg-feSecondary-800 dark:text-feSecondary-200",class:"'w-full absolute bottom-4 right-4 left-4",onClick:f[1]||(f[1]=C=>t.followClick(e.user))},{default:s(()=>[i(a(o.$t("other_profile__following")),1)]),_:1}))])])]),_:1},8,["class"]),r(y,{ref:"psloading",isClickOut:!1},null,512)],64)}var Je=K(Q,[["render",ie]]);export{Je as default};
