import{p as M,u as F,i as g,x as O,y as B,o as u,c as _,a as t,b as o,w as r,F as z,s as A,n as D,q as f,t as h,m as N,f as T,g as V,h as x,B as U,z as d,O as w,A as I,r as c,C as j}from"./app.72d9fe45.js";import{P as E}from"./PsIcon.8d64a589.js";import{P as q}from"./PsDropdown.dd6513b3.js";import{P as G}from"./PsDropdownSelect.2cfdee10.js";import{P as H}from"./PsLabel.9b145d71.js";import{P as R,a as W,b as J,c as K,d as Q}from"./PsDangerDialog.4a7cc4cb.js";import{P as X}from"./PsToggle.8b891384.js";import{P as Y}from"./PsButton.75e226c0.js";import{P as Z}from"./PsWarningDialog.632500d7.js";import{f as ee}from"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import{_ as oe}from"./plugin-vue_export-helper.21dcd24c.js";import"./Icons.c01eddd9.js";import"./PsModal.9ecdc9db.js";import"./vue-neat-modal.d239f4e3.js";import"./toggle.11911129.js";const ae={components:{PsIcon:E,PsDropdown:q,PsDropdownSelect:G,PsLabel:H,Link:M,PsToggle:X,PsButton:Y,PsIconToggle:R,PsLabelHeader6:W,PsTextButton:J,PsLabelCaption3:K,PsDangerDialog:Q,PsWarningDialog:Z},props:["can","defaultProfileImg"],data(){return{show:!1,selectedLanguage:""}},setup(){const e=F({data:{}}),n=g(!1),y=g(),p=g(),k=g(),b=U(),i=g(localStorage.activeLanguage);async function P(){e.data!=null&&e.data.length>0?await l():(n.value=!0,await l(),n.value=!1)}async function l(){await axios.get(route("contact.getContactFormTitle")).then(a=>{e.data=a.data.contacts,p.value=a.data.unseenCount}).catch(a=>{})}function v(a){y.value.openModal(d("core__delete"),d("core__comfirm_to_delete_contact"),d("core__be_btn_confirm"),d("core__be_btn_cancel"),()=>{w.delete(route("contact.destroy",a),{onSuccess:()=>{l()},onError:()=>{}})},()=>{})}function $(){k.value.openModal(d("core__warning"),d("core__comfirm_to_mark_as_read"),d("core__be_btn_confirm"),d("core__be_btn_cancel"),()=>{w.put(route("contact.allasread"),{onSuccess:()=>{l()},onError:()=>{}})},()=>{})}function m(a){w.get(route("contact.edit",a))}function L(a){w.put(route("language.changeLanguage",a.symbol),"",{onSuccess:()=>{I(a.symbol),b.dispatch("handleActiveLanguage",a.symbol),setTimeout(()=>{window.location.reload()},1e3)}})}return{contacts:e,clickMessageButton:P,clickedDeleteContact:v,loading:n,ps_danger_dialog:y,makeAllRead:$,goToDetail:m,count:p,ps_warning_dialog:k,handleLanguage:L,activeLanguage:i}},computed:{...O(["isDarkMode","dir","sidebarNavOpen","sidebarFull","showMenu","supportedLanguages"])},methods:{...B(["handleSidebarFull","handleSidebarNavOpen","handleShowMenu","toggleDir","toggleDarkMode"]),logout(){ee.auth().signOut(),this.$inertia.post(route("logout"))},toContact(){this.$inertia.get(route("contact.index"))}}},se={class:"text-secondary-800 dark:text-secondary-100 font-extrabold flex flex-row ps-6"},te={class:"text-secondary-800 flex items-center"},re={class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8"},ne={class:"rounded-md shadow-xs w-32"},le={class:"pt-2 z-30"},ie=["onClick"],de={class:"h-8 w-8 rounded-full"},ce=["alt"],pe=["src","alt"],ue={class:"rounded-md shadow-xs w-56"},me={class:"z-30"},ge={type:"submit",class:"w-56 flex p-4 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"};function _e(e,n,y,p,k,b){const i=c("ps-icon"),P=c("ps-dropdown-select"),l=c("ps-label"),v=c("ps-dropdown"),$=c("ps-icon-toggle"),m=c("Link"),L=c("ps-danger-dialog"),a=c("ps-warning-dialog"),S=j("lazy");return u(),_("div",{class:D([{"ps-0 xl:ps-76":e.sidebarFull,"ps-0 xl:ps-20":!e.sidebarFull},"fixed transition-all duration-600 bg-white z-50 dark:bg-secondary-800 dark:text-white shadow py-2 pe-6 items-center flex justify-between w-full"])},[t("div",se,[t("button",{onClick:n[0]||(n[0]=s=>{e.handleShowMenu(e.sidebarFull?e.showMenu:!1),e.handleSidebarFull(!e.sidebarFull)}),class:"hidden xl:block"},[o(i,{name:"hamburger"})]),t("button",{onClick:n[1]||(n[1]=s=>{e.handleSidebarNavOpen(!e.sidebarNavOpen),e.handleShowMenu(e.sidebarFull?e.showMenu:!1)}),class:"xl:hidden block"},[o(i,{name:"hamburger"})])]),t("div",te,[t("div",re,[o(v,{align:"left"},{select:r(()=>[o(P,{padding:"px-4 py-0.5",selectedValue:e.$page.props.languages.filter(s=>s.symbol==p.activeLanguage)[0].name},null,8,["selectedValue"])]),list:r(()=>[t("div",ne,[t("div",le,[(u(!0),_(z,null,A(e.$page.props.languages,s=>(u(),_("div",{key:s.id,class:"w-56 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:C=>p.handleLanguage(s)},[o(l,{class:D(["ms-2",s.symbol==p.activeLanguage?" font-bold":""])},{default:r(()=>[f(h(s.name),1)]),_:2},1032,["class"])],8,ie))),128))])])]),_:1})]),o($,{class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8",selectedValue:e.isDarkMode,onOnChange:e.toggleDarkMode},null,8,["selectedValue","onOnChange"]),o(v,{horizontalAlign:"right",class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8 w-full",h:"h-auto"},{select:r(()=>{var s,C;return[t("div",de,[(s=e.$page.props.authUser)!=null&&s.user_cover_photo?N((u(),_("img",{key:0,class:"object-cover h-8 w-8 rounded-full cursor-pointer",alt:e.$t("core__be_profile")},null,8,ce)),[[S,{src:e.$page.props.uploadUrl+"/"+((C=e.$page.props.authUser)==null?void 0:C.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]]):(u(),_("img",{key:1,class:"object-cover h-8 w-8 rounded-full cursor-pointer",src:e.$page.props.uploadUrl+"/default_profile.png",alt:e.$t("core__be_profile")},null,8,pe))])]}),list:r(()=>[t("div",ue,[t("div",me,[o(m,{href:e.route("fe_profile"),class:"w-56 flex p-4 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"},{default:r(()=>[o(i,{name:"user-line"}),o(l,{class:"ms-2"},{default:r(()=>[f(h(e.$t("core__be_profile")),1)]),_:1})]),_:1},8,["href"]),o(m,{href:e.route("dashboard"),class:"w-56 flex p-4 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"},{default:r(()=>[o(i,{name:"refresh"}),o(l,{class:"ms-2"},{default:r(()=>[f(h(e.$t("core__be_switch_to_fe")),1)]),_:1})]),_:1},8,["href"]),e.$page.props.canAccessAdminPanel?(u(),T(m,{key:0,href:e.route("admin.index"),class:"w-56 flex p-4 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"},{default:r(()=>[o(i,{name:"refresh"}),o(l,{class:"ms-2"},{default:r(()=>[f(h(e.$t("core__be_switch_to_admin")),1)]),_:1})]),_:1},8,["href"])):V("",!0),t("form",{onSubmit:n[2]||(n[2]=x((...s)=>b.logout&&b.logout(...s),["prevent"]))},[t("button",ge,[o(i,{name:"signOut"}),o(l,{class:"ms-2"},{default:r(()=>[f(h(e.$t("core__be_logout")),1)]),_:1})])],32)])])]),_:1})]),o(L,{ref:"ps_danger_dialog"},null,512),o(a,{ref:"ps_warning_dialog"},null,512)],2)}var Be=oe(ae,[["render",_e]]);export{Be as default};
