import{d as D,Z as T,i as f,E as U,z as x,o as g,c as z,b as a,w as t,a as m,q as n,t as i,h as H,f as y,g as k,F as V,r}from"./app.72d9fe45.js";import{P as M}from"./PsLayout.847d3bb7.js";import{P as j}from"./PsBreadcrumb2.c233a04a.js";import{u as N}from"./Validators.f69d3a03.js";import{P as O}from"./PsInput.afea411a.js";import{P as q}from"./PsInputWithRightIcon.e27f7629.js";import{P as R}from"./PsLabel.9b145d71.js";import{P as W}from"./PsButton.75e226c0.js";import{a as Z}from"./PsDangerDialog.4a7cc4cb.js";import{P as A}from"./PsCard.bbe9c0c8.js";import{P as G}from"./PsLoading.1f14f5af.js";import{P as J}from"./PsIcon.8d64a589.js";import{P as K}from"./PsCheckboxValue.4ec39ca8.js";import{P as Q}from"./PsLabelCaption.0e118b2b.js";import{P as X}from"./PsLabelTitle3.dae97f2a.js";import{P as Y}from"./PsImageUpload.61e8f8c2.js";import{_ as ee}from"./Dropzone.3aee5808.js";import oe from"./LanguageUpdateModal.2d8f7faa.js";import{_ as ae}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsDropdown.dd6513b3.js";import"./PsDropdownSelect.2cfdee10.js";import"./PsToggle.8b891384.js";import"./toggle.11911129.js";import"./PsWarningDialog.632500d7.js";import"./PsModal.9ecdc9db.js";import"./vue-neat-modal.d239f4e3.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./SidebarMenuItem.9469c8c6.js";import"./SidebarSubTab.7743e9bd.js";import"./PsErrorDialog.5174f1d4.js";import"./PsSuccessDialog.4b6e8f79.js";import"./PsBannerIcon.ba5a991b.js";import"./PsIcon1.56bc2bff.js";import"./Icons.c01eddd9.js";import"./PsLoadingCircleDialog.70b57269.js";import"./PsDraggable.2c92160e.js";import"./dropzone.0e7a43e0.js";const te=D({name:"Create",components:{Head:T,PsBreadcrumb2:j,PsInput:O,PsInputWithRightIcon:q,PsLabel:R,PsButton:W,PsLabelHeader6:Z,PsCard:A,PsLoading:G,PsIcon:J,PsCheckboxValue:K,PsLabelCaption:Q,PsLabelTitle3:X,PsImageUpload:Y,Dropzone:ee,LanguageUpdateModal:oe},layout:M,props:["errors","images","languages"],setup(e){const o=f(!1),c=f(!1),b=f(),v=f(""),p=f(),{isEmpty:P,minLength:C}=N(),$=(l,s)=>{e.errors[l]=s?C(l,s,3):P(l,s),l=="name"&&(b.value.isError=e.errors.name!="")};let d=U({name:"",cover:"",icon:"",status:!1,extra_caption:[],images:[],nameForm:[]});function h(){p.value.languageStrings.data.length==0&&e.languages.forEach(l=>{let s={};s.language=l,s.key="_name",s.value="",s.language_id=l.id,p.value.languageStrings.data.push(s)}),p.value.form.key==""&&(p.value.form.key="_name"),p.value.openModal("_name",l=>{const s=localStorage.activeLanguage?localStorage.activeLanguage:"en";l.values.forEach(_=>{_.symbol==s&&(v.value=_.value)})},!0)}function w(){d.name=v.value,d.nameForm=p.value.form,this.$inertia.post(route("category.store"),d,{forceFormData:!0,onBefore:()=>{o.value=!0},onSuccess:()=>{o.value=!1,c.value=!0,setTimeout(()=>{c.value=!1},2e3)},onError:()=>{b.value.isError=e.errors.name!="",o.value=!1}})}return{validateNameInput:$,handleSubmit:w,form:d,loading:o,success:c,name:b,categoryClick:h,language_update_modal_name:p,nameString:v}},computed:{breadcrumb(){return[{label:x("core__be_dashboard_label"),url:route("admin.index")},{label:x("category_module"),url:route("category.index")},{label:x("core__add_category"),color:"text-primary-500"}]}},methods:{handleCancel(){this.$inertia.get(route("category.index"))},removeImage(e){var o=this.form.images.indexOf(e);this.form.images.splice(o,1)},pushImage(e){this.form.images.push(e)},caption(e){let o=!1;this.form.extra_caption.forEach(c=>{if(c.name==e.name)return c.value=e.value,o=!0,!1}),o||this.form.extra_caption.push({name:e.name,value:e.value}),console.log(this.form.extra_caption)}}}),re={class:"rounded-xl"},se={class:"bg-primary-50 dark:bg-primary-900 py-2.5 ps-4 rounded-t-xl"},le={class:"px-4 pt-6 dark:bg-backgroundDark"},ne={class:"grid w-full sm:w-1/2 gap-6"},ie=m("span",{class:"text-red-500 ms-1"},"*",-1),me=m("span",{class:"text-red-500 ms-1"},"*",-1),de=m("span",{class:"text-red-500 ms-1"},"*",-1),ue={class:"flex flex-row justify-end mb-2.5"};function pe(e,o,c,b,v,p){const P=r("Head"),C=r("ps-breadcrumb-2"),$=r("ps-label-header-6"),d=r("ps-label"),h=r("ps-icon"),w=r("ps-input-with-right-icon"),l=r("ps-label-caption"),s=r("ps-label-title-3"),_=r("ps-image-upload"),F=r("ps-checkbox-value"),S=r("ps-button"),L=r("ps-loading"),E=r("language-update-modal"),I=r("ps-card"),B=r("ps-layout");return g(),z(V,null,[a(P,{title:e.$t("core__add_category")},null,8,["title"]),a(B,null,{default:t(()=>[a(C,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),a(I,{class:"w-full h-auto"},{default:t(()=>[m("div",re,[m("div",se,[a($,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:t(()=>[n(i(e.$t("core__be_category_info")),1)]),_:1})]),m("div",le,[m("div",ne,[m("form",{onSubmit:o[6]||(o[6]=H((...u)=>e.handleSubmit&&e.handleSubmit(...u),["prevent"]))},[m("div",null,[a(d,{class:"text-base mb-2"},{default:t(()=>[n(i(e.$t("core__category_label")),1),ie]),_:1}),a(w,{theme:"text-secondary-500",rounded:"rounded",placeholder:e.$t("core__category_placeholder"),placeholderColor:"placeholder-secondary-500",ref:"name",disabled:!0,value:e.nameString,"onUpdate:value":o[1]||(o[1]=u=>e.nameString=u)},{icon:t(()=>[a(h,{name:"editPencil",w:"20",h:"20",onClick:o[0]||(o[0]=u=>e.categoryClick())})]),_:1},8,["placeholder","value"]),a(l,{textColor:"text-red-500 ",class:"mt-2 block"},{default:t(()=>[n(i(e.errors.name),1)]),_:1})]),m("div",null,[a(d,{class:"text-base mb-2"},{default:t(()=>[n(i(e.$t("core__category_photo_label")),1),me]),_:1}),a(s,null,{default:t(()=>[n(i(e.$t("core__be_recommended_size_400_200")),1)]),_:1}),a(_,{uploadType:"image",imageFile:e.form.cover,"onUpdate:imageFile":o[2]||(o[2]=u=>e.form.cover=u)},null,8,["imageFile"]),a(l,{textColor:"text-red-500 ",class:"mt-2 block"},{default:t(()=>[n(i(e.errors.cover),1)]),_:1})]),m("div",null,[a(d,{class:"text-base mb-2"},{default:t(()=>[n(i(e.$t("core__category_icon_label")),1),de]),_:1}),a(s,null,{default:t(()=>[n(i(e.$t("core__be_recommended_size_200_200")),1)]),_:1}),a(_,{class:"w-72",uploadType:"icon",imageFile:e.form.icon,"onUpdate:imageFile":o[3]||(o[3]=u=>e.form.icon=u)},null,8,["imageFile"]),a(l,{textColor:"text-red-500 ",class:"mt-2 block"},{default:t(()=>[n(i(e.errors.icon),1)]),_:1})]),m("div",null,[a(d,{class:"text-base mb-2"},{default:t(()=>[n(i(e.$t("core__status_label")),1)]),_:1}),a(F,{value:e.form.status,"onUpdate:value":o[4]||(o[4]=u=>e.form.status=u),class:"font-normal",title:e.$t("core__publish_label")},null,8,["value","title"])]),m("div",ue,[a(S,{onClick:o[5]||(o[5]=u=>e.handleCancel()),type:"reset",class:"me-4",colors:"text-primary-500",hover:""},{default:t(()=>[n(i(e.$t("core__be_btn_cancel")),1)]),_:1}),a(S,{class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:t(()=>[e.loading?(g(),y(L,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):k("",!0),e.success?(g(),y(h,{key:1,name:"check",w:"20",h:"20",class:"me-1.5 transition-all duration-300"})):k("",!0),e.success?(g(),y(d,{key:2,class:"transition-all duration-300",textColor:"text-white dark:text-secondaryDark-black"},{default:t(()=>[n(i(e.$t("core__be_btn_saved")),1)]),_:1})):k("",!0),!e.loading&&!e.success?(g(),y(d,{key:3,textColor:"text-white dark:text-secondaryDark-black"},{default:t(()=>[n(i(e.$t("core__be_btn_save")),1)]),_:1})):k("",!0)]),_:1})])],32)])])]),a(E,{ref:"language_update_modal_name"},null,512)]),_:1})]),_:1})],64)}var Qe=ae(te,[["render",pe]]);export{Qe as default};
