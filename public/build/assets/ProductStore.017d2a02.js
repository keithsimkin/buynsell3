import{bD as nt,u as v,i as P,E as ct}from"./app.72d9fe45.js";import{P as ot}from"./ProductParameterHolder.b9a2d040.js";import{P as dt,a as lt}from"./Phone.45f97258.js";import{a as S,P as d}from"./PsApiService.74841eb2.js";import{P as I}from"./Product.0519ee40.js";import{D as h}from"./DefaultPhoto.cc755f93.js";import{A as w}from"./ApiStatus.5720ba0b.js";import{U as ft}from"./UserDeleteItemParameterHolder.5d816aba.js";import{m as _t}from"./PsSepetetedStore.9a31ac47.js";import{P as g}from"./ps_constants.ea9d0b33.js";const Lt=_t(b=>nt(`productStore/${b}`,()=>{const n=v(new S),o=v(new S),i=v(new S),a=v({value:!1});let _=P(10),f=0;const l=v({value:!1});let U="",R=v(new ot().getRecentParameterHolder()),T=v(new dt().getRecentParameterHolder()),N=P(!1),O=P({id:"0",name:"Available"}),E=ct({product_relation:{}});const m=P(!1);function B(){return(n==null?void 0:n.data)!=null&&n.data.length>0}function C(t){var e,s;n!=null&&n.data!=null&&n.data.length>0&&f!=0?(t.data!=null&&t.data.length>0?(((e=t.data)==null?void 0:e.length)<_.value?l.value=!0:l.value=!1,n.data.push(...t.data)):l.value=!0,n.code=t.code,n.status=t.status,n.message=t.message):(((s=t.data)==null?void 0:s.length)<_.value||t.data==null?l.value=!0:l.value=!1,n.data=t.data,n.code=t.code,n.status=t.status,n.message=t.message),n!=null&&n.data!=null&&(f=n.data.length)}function k(t){var e,s;o!=null&&o.data!=null&&o.data.length>0&&f!=0?(t.data!=null&&t.data.length>0?(((e=t.data)==null?void 0:e.length)<_?l.value=!0:l.value=!1,o.data.push(...t.data)):l.value=!0,o.code=t.code,o.status=t.status,o.message=t.message):(((s=t.data)==null?void 0:s.length)<_||t.data==null?l.value=!0:l.value=!1,o.data=t.data,o.code=t.code,o.status=t.status,o.message=t.message),o!=null&&o.data!=null&&(f=o.data.length)}async function A(t,e){a.value=!0;const s=await d.getPhoneList(new lt,t,_,f,e.toMap());k(s),a.value=!1}async function x(t,e){a.value=!0;const s=await d.getItemListByUserId(new I,_.value,f,t,e.toMap());C(s),a.value=!1}async function M(t,e){f=0,a.value=!0;const s=await d.getItemListByUserId(new I,_.value,f,t,e.toMap());console.log(s),C(s),a.value=!1}async function V(t,e){a.value=!0;const s=await d.getItemDetail(new I,t,e);return i.data=s.data,i.code=s.code,i.status=s.status,i.message=s.message,a.value=!1,i}async function D(t,e,s){a.value=!0;const u=await d.getRelatedProductList(new I,t,e,s,_.value,f);return n.data=u.data,n.code=u.code,n.status=u.status,n.message=u.message,a.value=!1,n}async function F(t,e){a.value=!0;const s=await d.postItemEntry(new I,t.toMap(),e);return i.data=s.data,i.code=s.code,i.status=s.status,i.message=s.message,a.value=!1,s}async function z(t,e,s,u,c,r,y){a.value=!0;const ut=await d.postItemImageUpload(new h,e,s,u,c,r,y,t);return a.value=!1,ut}async function K(t,e){a.value=!0;const s=await d.ps_image_dropzone_upload_url(new h,t,e);return a.value=!1,s}async function Z(t,e){a.value=!0;const s=await d.postReorderItemImage(new w,t,e);return a.value=!1,s}async function $(t,e,s,u){a.value=!0;const c=await d.postItemVideoUpload(new h,t,e,s,u);return a.value=!1,c}async function j(t,e,s){a.value=!0;const u=await d.postItemVideoThumbUpload(new h,t,e,s);return a.value=!1,u}function q(t){let e="";if(e==""&&t.searchTerm!=""?e="?searchterm="+t.searchTerm:t.searchTerm!=""&&(e=e+"&searchterm="+t.searchTerm),e==""&&t.catId!=""?e="?cat_id="+t.catId:t.catId!=""&&(e=e+"&cat_id="+t.catId),e==""&&t.catName!=""?e="?cat_name="+t.catName:t.catName!=""&&(e=e+"&cat_name="+t.catName),e==""&&t.subCatId!=""?e="?sub_cat_id="+t.subCatId:t.subCatId!=""&&(e=e+"&sub_cat_id="+t.subCatId),e==""&&t.subCatName!=""?e="?sub_cat_name="+t.subCatName:t.subCatName!=""&&(e=e+"&sub_cat_name="+t.subCatName),e==""&&t.itemCurrencyId!=""?e="?item_currency_id="+t.itemCurrencyId:t.itemCurrencyId!=""&&(e=e+"&item_currency_id="+t.itemCurrencyId),e==""&&t.itemLocationId!=""?e="?item_location_id="+t.itemLocationId:t.itemLocationId!=""&&(e=e+"&item_location_id="+t.itemLocationId),e==""&&t.itemLocationTownship!=""?e="?item_location_township_id="+t.itemLocationTownship:t.itemLocationTownship!=""&&(e=e+"&item_location_township_id="+t.itemLocationTownship),e==""&&t.maxPrice!=""?e="?max_price="+t.maxPrice:t.maxPrice!=""&&(e=e+"&max_price="+t.maxPrice),e==""&&t.minPrice!=""?e="?min_price="+t.minPrice:t.minPrice!=""&&(e=e+"&min_price="+t.minPrice),e==""&&t.lat!=""?e="?lat="+t.lat:t.lat!=""&&(e=e+"&lat="+t.lat),e==""&&t.lng!=""?e="?lng="+t.lng:t.lng!=""&&(e=e+"&lng="+t.lng),e==""&&t.mile!=""?e="?mile="+t.mile:t.mile!=""&&(e=e+"&mile="+t.mile),e==""&&t.addedUserId!=""?e="?added_user_id="+t.addedUserId:t.addedUserId!=""&&(e=e+"&added_user_id="+t.addedUserId),e==""&&t.isPaid!=""?e="?ad_post_type="+t.isPaid:t.isPaid!=""&&(e=e+"&ad_post_type="+t.isPaid),e==""&&t.orderBy!=""?e="?order_by="+t.orderBy:t.orderBy!=""&&(e=e+"&order_by="+t.orderBy),e==""&&t.orderType!=""?e="?order_type="+t.orderType:t.orderType!=""&&(e=e+"&order_type="+t.orderType),e==""&&t.status!=""?e="?status="+t.status:t.status!=""&&(e=e+"&status="+t.status),e==""&&t.isSoldOut!=""?e="?is_sold_out="+t.isSoldOut:t.isSoldOut!=""&&(e=e+"&is_sold_out="+t.isSoldOut),e==""&&t.isDiscount!=""?e="?is_discount="+t.isDiscount:t.isDiscount!=""&&(e=e+"&is_discount="+t.isDiscount),e==""&&t.paidStatus!=""?e="?ad_post_type="+t.paidStatus:t.paidStatus!=""&&(e=e+"&ad_post_type="+t.paidStatus),e==""&&t.isPaid!=""?e="?is_paid="+t.isPaid:t.isPaid!=""&&(e=e+"&is_paid="+t.isPaid),e==""&&t.productRelation.length>0){e="?product_relation=";let s="",u="";t.productRelation.forEach((c,r)=>{c.core_keys_id!=""&&c.value!=""&&(r==0?(s=c.core_keys_id,u=c.value):(s=s+"___"+c.core_keys_id,u=u+"___"+c.value))}),e=e+s+"-----"+u}else if(t.productRelation.length>0){e=e+"&product_relation=";let s="",u="";t.productRelation.forEach((c,r)=>{c.core_keys_id!=""&&c.value!=""&&(r==0?(s=c.core_keys_id,u=c.value):(s=s+"___"+c.core_keys_id,u=u+"___"+c.value))}),e=e+s+"-----"+u}return e}async function G(t,e){const s=new ft;s.itemId=e,a.value=!0;const u=await d.deleteItem(new w,t,s.toMap());return a.value=!1,u}async function J(t,e){a.value=!0;const s=0,u=n.data.length,c=await d.getItemListByUserId(new I,u,s,t,e.toMap());n.data=c.data,n.code=c.code,n.status=c.status,n.message=c.message,a.value=!1}async function Q(t){a.value=!0;const e=await d.postSellerCreditCard(new w,t);return a.value=!1,e}async function W(t){a.value=!0;const e=await d.postCreditCardUpdate(new w,t);return a.value=!1,e}function L(){var t;return(i==null?void 0:i.data)&&(i==null?void 0:i.data.isOwner)==g.ONE&&(i==null?void 0:i.data.status)==g.ONE&&((i==null?void 0:i.data.paidStatus)==g.ADSNOTAVAILABLE||((t=i==null?void 0:i.data)==null?void 0:t.paidStatus)==g.ADSFINISHED)}function X(t,e){return L()&&t==!1&&!e}function Y(t){var u,c;const e=[],s=(c=(u=i==null?void 0:i.data)==null?void 0:u.productRelation)==null?void 0:c.filter(r=>{var y;return t.includes(r.coreKeysId)&&((y=r.selectedValue[0])==null?void 0:y.value)!==""});return s&&e.push(...s),e}function p(){var t;return((t=i==null?void 0:i.data)==null?void 0:t.isFavourited)==g.ONE}function H(){var t;return((t=i==null?void 0:i.data)==null?void 0:t.isDiscount)=="1"}function tt(){var t,e;return((e=(t=i==null?void 0:i.data)==null?void 0:t.subCategory)==null?void 0:e.id)==""}function et(t){var e,s;return(i==null?void 0:i.data)&&i.data.isSoldOut==g.ZERO&&t==((s=(e=i==null?void 0:i.data)==null?void 0:e.user)==null?void 0:s.userId)}function st(t){var e,s,u;return((e=i==null?void 0:i.data)==null?void 0:e.user)&&((u=(s=i==null?void 0:i.data)==null?void 0:s.user)==null?void 0:u.userId)==t}function it(t){var e;return((e=i==null?void 0:i.data)==null?void 0:e.status)==t}function at(){var t,e;return(e=(t=i==null?void 0:i.data)==null?void 0:t.vendor.id)!=null?e:""}return{updateCreditCard:W,postCreditCard:Q,itemList:n,item:i,loading:a,limit:_,offset:f,isNoMoreRecord:l,id:U,paramHolder:R,phoneparamHolder:T,phoneList:o,updateProductList:C,loadItemList:x,resetProductList:M,loadItem:V,submitItemEntry:F,postItemImageUpload:z,postReorderItemImage:Z,postItemVideoUpload:$,postItemVideoThumbUpload:j,getURLforListByParam:q,userDeleteItem:G,refleshProductList:J,loadPhoneCountryCode:A,relatedItem:D,postItemImageUploadDropzone:K,promoteStatus:L,loadProductRelation:Y,isFavourite:p,subCategoryIdIsEmpty:tt,isSoldOut:et,isUserItem:st,productStatus:it,isItemDiscount:H,isDiscount:N,showPromoteButton:X,hasData:B,currentstatus:O,form:E,showPopUpFilter:m,getVendorId:at}}));export{Lt as u};
