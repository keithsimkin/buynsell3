import C from"./PsModal.49a87bcd.js";import M from"./PsButton.81d0ce1f.js";import{P as S}from"./PsValueStore.46e374fe.js";import $ from"./PsErrorDialog.0ec3813f.js";import{u as x}from"./VendorItemBoughtStore.9338c673.js";import{d as B,i as f,o as q,c as w,b as a,w as c,a as k,q as g,t as y,F as E,z as I,r as p}from"./app.72d9fe45.js";import{d as N}from"./dropin.b1745c03.js";import{_ as D}from"./plugin-vue_export-helper.21dcd24c.js";import"./vue-neat-modal.d239f4e3.js";import"./PsLine.c7f2ab42.js";import"./PsLabelTitle.8e337e9e.js";import"./PsLabel.dd7b9156.js";import"./PsApiService.74841eb2.js";import"./ApiStatus.5720ba0b.js";import"./PsObject.a17ef38f.js";import"./PsSepetetedStore.9a31ac47.js";const T=B({name:"VendorPaypalModal",components:{PsModal:C,PsButton:M,PsErrorDialog:$},setup(){const o=f(),e=f(),m=S().getLoginUserId(),s=x();let i,t;function r(n){n=="yes"?i():t(),o.value.toggle(!1)}async function l(n,b,P){o.value.toggle(!0),i=n,t=b;const V=await s.getVendorPaypalToken(P,m),d=document.querySelector("#submit-button");N.create({authorization:V.data.message,container:"#dropin-container",paypal:{flow:"vault"}},function(j,u){d==null||d.addEventListener("click",function(){u.isPaymentMethodRequestable()&&setTimeout(function(){u.requestPaymentMethod(async function(h,_){if(console.log(_),h){e.value.openModal("",I("paypal_credit_card_modal__error_paid_ad"));return}s.paymentNonce=_.nonce,r("yes")})},200)})})}return{psmodal:o,ps_error_dialog:e,openModal:l,actionClicked:r}}}),z=k("div",{id:"dropin-container"},null,-1),F={class:"flex justify-center mx-auto"};function L(o,e,v,m,s,i){const t=p("ps-button"),r=p("ps-modal"),l=p("ps-error-dialog");return q(),w(E,null,[a(r,{ref:"psmodal",line:"hidden",isClickOut:!1},{body:c(()=>[z,k("div",F,[a(t,{id:"submit-button"},{default:c(()=>[g(y(o.$t("paypal_credit_card_modal__submit_payment")),1)]),_:1}),a(t,{theme:"btn-second",class:"text-center mx-4",onClick:e[0]||(e[0]=n=>o.actionClicked("no"))},{default:c(()=>[g(y(o.$t("paypal_credit_card_modal__close")),1)]),_:1})])]),_:1},512),a(l,{ref:"ps_error_dialog"},null,512)],64)}var no=D(T,[["render",L]]);export{no as default};
