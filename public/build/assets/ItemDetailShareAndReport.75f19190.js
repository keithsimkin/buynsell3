import x from"./PsLabel.dd7b9156.js";import P from"./ShareToSocialModal.ca6a97bd.js";import v from"./PsConfirmDialog.fdc5ff76.js";import N from"./PsErrorDialog.0ec3813f.js";import{u as R}from"./ProductStore.017d2a02.js";import{u as b}from"./ReportedItemStore.b4506794.js";import{P as y}from"./ps_constants.ea9d0b33.js";import{i as f,o as g,c as h,a as D,b as m,w as S,q as C,t as U,g as M,F as w,z as s,O as k,r as a}from"./app.72d9fe45.js";import{P as E}from"./PsUtils.eb7a8002.js";import{b as O}from"./PsApiService.74841eb2.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.49a87bcd.js";import"./vue-neat-modal.d239f4e3.js";import"./PsLine.c7f2ab42.js";import"./PsLabelTitle.8e337e9e.js";import"./PsButton.81d0ce1f.js";import"./PsLink.26c0aa15.js";import"./PsSuccessDialog.ab656243.js";import"./PsIcon.c404b5b9.js";import"./ProductParameterHolder.b9a2d040.js";import"./Phone.45f97258.js";import"./PsObject.a17ef38f.js";import"./Product.0519ee40.js";import"./DefaultPhoto.cc755f93.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./ItemLocationTownship.94979fe0.js";import"./ProductRelation.0b376978.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./Vendor.d946ee87.js";import"./ApiStatus.5720ba0b.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./PsSepetetedStore.9a31ac47.js";class B{constructor(){this.itemId="",this.reportedUserId=""}reportItemHolder(){this.itemId="",this.reportedUserId=""}toMap(){const e={};return e.item_id=this.itemId,e.reported_user_id=this.reportedUserId,e}}const H={name:"ItemDetailShareAndReport",components:{PsLabel:x,ShareToSocialModal:P,PsConfirmDialog:v,PsErrorDialog:N},props:{loginUserId:null,itemId:null,itemName:String},setup(t){const e=R("detail"),n=b(),o=new B,l=f(),d=f(),r=f();function p(i){l.value.openModal(i,t.itemId,t.itemName)}function _(){t.loginUserId&&t.loginUserId!=y.NO_LOGIN_USER?d.value.openModal(s("item_detail__confirm"),s("item_detail__confirm_to_report_item"),s("item_detail__report"),s("item_detail__cancel"),()=>{c()},()=>{E.log("Cancel")}):k.get(route("login"))}async function c(){o.itemId=t.itemId,o.reportedUserId=t.loginUserId;const i=await n.addReportItem(t.loginUserId,o);i.status==O.SUCCESS?k.get(route("dashboard")):r.value.openModal(i.message)}return{productStore:e,shareClicked:p,reportItemClicked:_,share_modal:l,ps_confirm_dialog:d,ps_error_dialog:r}}},L={class:"flex items-center gap-7 self-end"},A={key:0};function F(t,e,n,o,l,d){const r=a("ps-label"),p=a("share-to-social-modal"),_=a("ps-confirm-dialog"),c=a("ps-error-dialog");return g(),h(w,null,[D("div",L,[m(r,{textColor:"text-sm text-feInfo-500 cursor-pointer",onClick:e[0]||(e[0]=i=>{var u,I;return o.shareClicked((I=(u=o.productStore.item)==null?void 0:u.data)==null?void 0:I.dynamicLink)})},{default:S(()=>[C(U(t.$t("item_detail__share")),1)]),_:1}),o.productStore.isUserItem(n.loginUserId)?M("",!0):(g(),h("div",A,[m(r,{textColor:"text-sm text-fePrimary-500 cursor-pointer",onClick:o.reportItemClicked},{default:S(()=>[C(U(t.$t("item_detail__report_this_ad")),1)]),_:1},8,["onClick"])]))]),m(p,{ref:"share_modal"},null,512),m(_,{ref:"ps_confirm_dialog"},null,512),m(c,{ref:"ps_error_dialog"},null,512)],64)}var xt=V(H,[["render",F]]);export{xt as default};
