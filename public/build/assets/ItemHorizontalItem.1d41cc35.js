import ee from"./PsLabel.dd7b9156.js";import te from"./PsLabelTitle4.90166f3a.js";import oe from"./PsCard.c6bb6e2a.js";import ie from"./PsIcon.c404b5b9.js";import{P as B}from"./ps_constants.ea9d0b33.js";import ae from"./PsAdSense.e3562fb6.js";import re from"./PsLoadingDialog.52bc8b7d.js";import{f as se}from"./format.min.1a01be2e.js";import le from"./PsRouteLink.ab373f40.js";import{i as G,o as i,c as n,a as u,f as k,w as a,n as q,b as r,m as W,g as f,q as m,t as s,F as ne,z as X,O as me,r as F,C as de,W as ce,X as fe}from"./app.72d9fe45.js";import{P as Y}from"./PsValueStore.46e374fe.js";import{P as ue}from"./Product.0519ee40.js";import{u as _e}from"./PsValueHolder.64e68efd.js";import{u as xe}from"./AppInfoStore.3eac0301.js";import{u as ge}from"./ProductStore.017d2a02.js";import{u as Z}from"./FavouriteItemStore.e64977ef.js";import{u as he,F as pe}from"./FollowItemParameterHolder.54ad8b57.js";import{A as ye}from"./AppInfoParameterHolder.e24d894d.js";import{h as Se}from"./moment.9709ab41.js";/* empty css                                                                       */import{_ as be}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsApiService.74841eb2.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./PsModal.49a87bcd.js";import"./vue-neat-modal.d239f4e3.js";import"./PsLine.c7f2ab42.js";import"./PsLabelTitle.8e337e9e.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./ItemLocationTownship.94979fe0.js";import"./ProductRelation.0b376978.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./Vendor.d946ee87.js";import"./ProductParameterHolder.b9a2d040.js";import"./Phone.45f97258.js";import"./ApiStatus.5720ba0b.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./PsSepetetedStore.9a31ac47.js";import"./PsUtils.eb7a8002.js";const ve={name:"ItemHorizontalItem",components:{PsLabel:ee,PsLabelTitle4:te,PsCard:oe,PsIcon:ie,PsAdSense:ae,PsRouteLink:le,PsLoadingDialog:re},props:{item:{type:ue},notShowTitle:{type:Boolean,default:!1},onClick:Function,storeName:{type:String,default:""}},setup(o){var N,z,L;const y=G();Y.psValueStore=_e();const e=ge(o.storeName),t=Z(),J=Z("favourite"),K=he(),A=Y(),_=A.getLoginUserId(),l=new ye,V=new pe;l.userId=_;const d=xe(),D=G(!1),O=G(o.item.user.userId==_);((L=(z=(N=d==null?void 0:d.appInfo)==null?void 0:N.data)==null?void 0:z.mobileSetting)==null?void 0:L.is_show_owner_info)=="1"&&(D.value=!0);function U(S){var R,T,j,E,g,h,P,w,I,p,c,x,C;if(S.toString()=="0"&&((T=(R=d.appInfo.data)==null?void 0:R.psAppSetting)==null?void 0:T.SelectedPriceType)==B.NORMAL_PRICE)return X("item_price__free");if(((E=(j=d.appInfo.data)==null?void 0:j.psAppSetting)==null?void 0:E.SelectedPriceType)==B.PRICE_RANGE){const b=parseFloat(S),v=parseInt(b);return v>5?"$".repeat(5):v<1?"$".repeat(1):"$".repeat(v)}else{if(((P=(h=(g=d==null?void 0:d.appInfo)==null?void 0:g.data)==null?void 0:h.mobileSetting)==null?void 0:P.price_format)==="###,###")return new Intl.NumberFormat("en-FR",{style:"decimal",useGrouping:!0,minimumFractionDigits:0}).format(S).replace(","," ");if(((p=(I=(w=d==null?void 0:d.appInfo)==null?void 0:w.data)==null?void 0:I.mobileSetting)==null?void 0:p.price_format)==="##,####"){let v=parseFloat(S).toFixed(4).split("."),Q=v.pop();return Q=v[0],Q.replace(/(\d)(?=(\d{4})+$)/g,"$1,")}else return se((C=(x=(c=d==null?void 0:d.appInfo)==null?void 0:c.data)==null?void 0:x.mobileSetting)==null?void 0:C.price_format,S)}}async function H(S){_&&_!=B.NO_LOGIN_USER?(y.value.openModal(),o.item.isFavourited=="1"?y.value.message=X("item_detail__removing_item_from_favourite"):y.value.message=X("item_detail__adding_item_to_favourite"),await t.postFavourite(S,_),await M(),y.value.closeModal()):me.get(route("login"))}async function M(){o.storeName==""?await K.refleshFollowerItemList(_,V):o.storeName=="favourite"?await J.refleshFavouriteItemList(_):await e.refleshProductList(_,e.paramHolder)}return{appInfoStore:d,formatPrice:U,PsConst:B,psValueStore:A,favouriteClicked:H,ps_loading_dialog:y,showProfile:D,moment:Se,isOwner:O,loginUserId:_}}},$=o=>(ce("data-v-3e780cd3"),o=o(),fe(),o),Pe={class:"h-44 relative z-0"},we={class:"overflow-hidden h-44 w-full"},Ie={alt:"Placeholder",class:"overflow-hidden transform transition duration-500 hover:scale-110 rounded-t-lg object-cover w-screen h-44",width:"640px",height:"360px"},Ce={key:1,class:"absolute bg-feWarning-500 rounded px-2 py-1 flex justify-center items-center left-2 top-2 z-20"},ke={key:2,class:"absolute bg-fePrimary-500 rounded px-2 py-1 flex justify-center items-center left-2 top-2 z-20"},Ae={key:0,class:"absolute bg-feSuccess-500 rounded px-2 py-1 left-0 top-8"},Ne={key:3,class:"absolute bg-feSuccess-500 rounded px-2 py-1 flex justify-center items-center left-2 top-2 z-20"},Fe={key:4,class:"absolute bg-feSecondary-300 rounded px-2 py-1 flex justify-center items-center left-2 top-2 z-20"},Oe={key:5,class:"absolute bg-feError-500 rounded px-2 py-1 flex justify-center items-center left-2 top-2 z-20"},ze={class:"absolute left-2 bottom-2 z-20"},Le=$(()=>u("div",{class:"relative lg:pt-48 pt-28"},null,-1)),Re={key:0,class:"ps-1 pt-1"},Te={key:1},je={key:2},Ee={key:0},Ve={key:0},De={key:1,class:"ps-1"},Ue={key:0,class:"pt-1 pb-2 flex items-center justify-between leading-none px-2 rounded-b-xl lg:rounded-b-2xl"},He={class:"flex flex-row relative items-center no-underline text-feAchromatic-900"},Me={alt:"Placeholder",class:"rounded-full bg-transparent lg:w-8 lg:h-8 w-6 h-6 flex items-center justify-center object-cover",width:"50px",height:"50px"},Be={key:0,class:"absolute top-0 left-0"},Ge=$(()=>u("div",{class:"lg:w-8 lg:h-8 w-6 h-6 rounded-full absolute top-0 left-0 bg-feAchromatic-900 opacity-60"},null,-1)),qe={class:"lg:w-8 lg:h-8 w-6 h-6 flex items-center justify-center absolute"},We={class:"ms-2 mt-1 text-sm flex-grow"},Xe={class:"flex flex-row w-full"},Je={key:0,class:"pt-1 pb-2 flex items-center justify-between leading-none px-2 rounded-b-xl lg:rounded-b-2xl"},Ke={class:"flex flex-row relative items-center no-underline text-feAchromatic-900"},Qe={alt:"Placeholder",class:"rounded-full bg-transparent lg:w-8 lg:h-8 w-6 h-6 flex items-center justify-center object-cover",width:"50px",height:"50px"},Ye={class:"ms-2 mt-1 text-sm flex-grow"},Ze={class:"w-full lg:h-72 h-52 mx-auto lg:mt-12 lg:mb-12 mt-8 mb-6"};function $e(o,y,e,t,J,K){var U,H,M;const A=F("ps-route-link"),_=F("ps-icon"),l=F("ps-label"),V=F("ps-card"),d=F("ps-ad-sense"),D=F("ps-loading-dialog"),O=de("lazy");return i(),n(ne,null,[u("div",{class:"cursor-pointer w-full h-full pb-3",onClick:y[1]||(y[1]=N=>e.onClick!=null?e.onClick(e.item):null)},[((U=e.item)==null?void 0:U.adType)==t.PsConst.NORMAL_AD||((H=e.item)==null?void 0:H.adType)==t.PsConst.PAID_AD?(i(),k(V,{key:0,class:"flex w-full bg-feAchromatic-50 flex-col lg:rounded-lg shadow-sm",enabledHover:!0},{default:a(()=>{var N,z,L,S,R,T,j,E;return[u("div",{class:q(["lg:px-0 lg:py-0 px-1",t.showProfile?"rounded-b-xl lg:rounded-b-2xl":"rounded-xl lg:rounded-2xl"])},[u("div",Pe,[r(A,{to:{name:"fe_item_detail",query:{item_id:e.item.id}},class:"absolute z-10"},{default:a(()=>[u("div",we,[W(u("img",Ie,null,512),[[O,{src:o.$page.props.thumb2xUrl+"/"+e.item.defaultPhoto.imgPath,loading:o.$page.props.sysImageUrl+"/loading_gif.gif",error:o.$page.props.sysImageUrl+"/default_photo.png"}]])])]),_:1},8,["to"]),!e.notShowTitle&&!t.isOwner?(i(),n("div",{key:0,class:"absolute z-10 bg-feAchromatic-50 dark:bg-feSecondary-800 rounded w-10 h-10 flex justify-center items-center right-2 top-2",onClick:y[0]||(y[0]=g=>t.favouriteClicked(e.item.id))},[e.item.isFavourited=="1"?(i(),k(_,{key:0,textColor:"text-fePrimary-500 dark:text-feAchromatic-50",class:"",name:"heart",h:"24",w:"24"})):(i(),k(_,{key:1,textColor:"text-fePrimary-500 dark:text-feAchromatic-50",class:"",name:"heart-outline",h:"24",w:"24"}))])):f("",!0),e.item.status=="0"?(i(),n("div",Ce,[r(l,{class:"text-xs lg:text-sm text-center font-medium",textColor:"text-feAchromatic-50 "},{default:a(()=>[m(s(o.$t("core_fe__pending")),1)]),_:1})])):f("",!0),e.item.isDiscount=="1"&&e.item.status=="1"?(i(),n("div",ke,[r(l,{class:"text-xs lg:text-sm text-center font-medium",textColor:"text-feAchromatic-50 "},{default:a(()=>[m(s(e.item.percent)+s(o.$t("item_horizontal_item__discount")),1)]),_:1}),e.item.isPaid=="1"&&e.item.paidStatus==t.PsConst.paidItemProgressStatus&&e.item.status=="1"?(i(),n("div",Ae,[r(l,{class:"text-xs lg:text-sm font-medium text-center",textColor:"text-feAchromatic-50 "},{default:a(()=>[m(s(o.$t("item_horizontal_item__featured")),1)]),_:1})])):f("",!0)])):e.item.isPaid=="1"&&e.item.paidStatus==t.PsConst.paidItemProgressStatus&&e.item.status=="1"?(i(),n("div",Ne,[r(l,{class:"text-xs lg:text-sm text-center font-medium",textColor:"text-feAchromatic-50 "},{default:a(()=>[m(s(o.$t("item_horizontal_item__featured")),1)]),_:1})])):f("",!0),e.item.status=="2"?(i(),n("div",Fe,[r(l,{class:"text-xs lg:text-sm text-center font-medium",textColor:"text-feSecondary-500 "},{default:a(()=>[m(s(o.$t("core_fe__disabled")),1)]),_:1})])):f("",!0),e.item.status=="3"?(i(),n("div",Oe,[r(l,{class:"text-xs lg:text-sm text-center font-medium",textColor:"text-feAchromatic-50 "},{default:a(()=>[m(s(o.$t("core_fe__rejected")),1)]),_:1})])):f("",!0),u("div",ze,[e.item&&e.item.isSoldOut=="1"&&((N=t.appInfoStore)==null?void 0:N.isSoldOutFeatureSettingOn())?(i(),k(l,{key:0,class:"py-1 px-2 text-sm rounded bg-fePrimary-500 font-medium",textColor:"text-feAchromatic-50 "},{default:a(()=>[m(s(o.$t("item_horizontal_item__sold_out")),1)]),_:1})):f("",!0)]),Le]),r(A,{to:{name:"fe_item_detail",query:{item_id:e.item.id}}},{default:a(()=>{var g,h,P,w,I,p;return[e.notShowTitle?f("",!0):(i(),n("div",Re,[r(l,{class:"truncate-2-lines mb-0.5 font-normal text-sm",textColor:"text-feSecondary-600 dark:text-feSecondary-200"},{default:a(()=>[m(s(e.item?e.item.title:""),1)]),_:1})])),((h=(g=t.appInfoStore.appInfo.data)==null?void 0:g.psAppSetting)==null?void 0:h.hidePricesetting)==t.PsConst.ONE&&t.loginUserId=="nologinuser"?(i(),n("div",Te,[r(l,{textColor:"font-semibold text-base text-fePrimary-500 "},{default:a(()=>[m(s(e.item.itemCurrency.currencySymbol)+" ****",1)]),_:1})])):(i(),n("div",je,[((w=(P=t.appInfoStore.appInfo.data)==null?void 0:P.psAppSetting)==null?void 0:w.SelectedPriceType)!=t.PsConst.NO_PRICE?(i(),n("div",Ee,[e.item.isDiscount=="1"&&((p=(I=t.appInfoStore.appInfo.data)==null?void 0:I.mobileSetting)==null?void 0:p.is_show_discount)=="1"&&!e.notShowTitle?(i(),n("div",{key:0,class:q(["ps-1 flex justify-start",t.formatPrice(e.item?e.item.originalPrice:"").length>10?"flex-col":"flex-row  items-center"])},[r(l,{class:"line-through me-2 font-semibold text-xs",textColor:"text-feSecondary-500 "},{default:a(()=>{var c,x,C,b;return[m(s(e.item&&((x=(c=t.appInfoStore.appInfo.data)==null?void 0:c.psAppSetting)==null?void 0:x.SelectedPriceType)==t.PsConst.NORMAL_PRICE?e.item.itemCurrency.currencySymbol:"")+" ",1),e.item&&((b=(C=t.appInfoStore.appInfo.data)==null?void 0:C.psAppSetting)==null?void 0:b.SelectedPriceType)==t.PsConst.NORMAL_PRICE?(i(),n("span",Ve,s(t.formatPrice(e.item?e.item.originalPrice:"")),1)):f("",!0)]}),_:1}),r(l,{class:"font-semibold text-xs lg:text-base",textColor:"text-fePrimary-500 "},{default:a(()=>{var c,x;return[m(s(e.item&&((x=(c=t.appInfoStore.appInfo.data)==null?void 0:c.psAppSetting)==null?void 0:x.SelectedPriceType)==t.PsConst.NORMAL_PRICE?e.item.itemCurrency.currencySymbol:"")+" "+s(t.formatPrice(e.item?e.item.price:"")),1)]}),_:1})],2)):(i(),n("div",De,[r(l,{class:"font-semibold text-base",textColor:"text-fePrimary-500 "},{default:a(()=>{var c,x;return[m(s(e.item&&((x=(c=t.appInfoStore.appInfo.data)==null?void 0:c.psAppSetting)==null?void 0:x.SelectedPriceType)==t.PsConst.NORMAL_PRICE?e.item.itemCurrency.currencySymbol:"")+" "+s(t.formatPrice(e.item?e.item.originalPrice:"")),1)]}),_:1})]))])):f("",!0)])),e.notShowTitle?f("",!0):(i(),n("div",{key:3,class:q([t.showProfile?"pb-0":"pb-2","ps-1 flex items-center"])},[r(_,{textColor:"text-feSecondary-400 dark_text-feAchromatic-500",name:"location-marker",h:"14",w:"14",class:"text-feSecondary-400 me-3",viewBox:"0 0 14 14"}),r(l,{class:"truncate font-normal text-sm",textColor:"text-feSecondary-400 dark:text-feSecondary-200"},{default:a(()=>[m(s(e.item?e.item.itemLocation.name:""),1)]),_:1})],2))]}),_:1},8,["to"])],2),((z=t.appInfoStore)==null?void 0:z.isVendorSettingOn())&&((S=(L=e.item)==null?void 0:L.vendor)==null?void 0:S.id)!=""?(i(),k(A,{key:0,to:{name:"fe_vendor_info",params:{vendorId:(T=(R=e.item)==null?void 0:R.vendor)==null?void 0:T.id}}},{default:a(()=>{var g,h,P,w,I;return[t.showProfile?(i(),n("div",Ue,[u("div",He,[W(u("img",Me,null,512),[[O,{src:o.$page.props.thumb1xUrl+"/"+((P=(h=(g=e.item)==null?void 0:g.vendor)==null?void 0:h.logo)==null?void 0:P.imgPath),loading:o.$page.props.sysImageUrl+"/loading_gif.gif",error:o.$page.props.sysImageUrl+"/default_vendor_shop.png"}]]),((I=(w=e.item)==null?void 0:w.vendor)==null?void 0:I.expireStatus)==t.PsConst.VendorExpiryExpiredStatus?(i(),n("div",Be,[Ge,u("div",qe,[r(l,{textColor:"text-[8px] text-feAchromatic-50 font-semibold"},{default:a(()=>[m(s(o.$t("Closed")),1)]),_:1})])])):f("",!0)]),u("p",We,[u("div",Xe,[r(l,{class:"text-xs",textColor:"text-feSecondary-800 dark:text-feSecondary-300"},{default:a(()=>{var p,c,x,C,b,v;return[m(s(((c=(p=e.item)==null?void 0:p.vendor)==null?void 0:c.name.length)>24?((C=(x=e.item)==null?void 0:x.vendor)==null?void 0:C.name.slice(0,24))+" ...":(v=(b=e.item)==null?void 0:b.vendor)==null?void 0:v.name),1)]}),_:1}),r(l,{class:"p-1 ms-2 text-xxs rounded-sm bg-feWarning-500",textColor:"text-feAchromatic-50"},{default:a(()=>[m(s(o.$t("core_fe__vendor_indicator")),1)]),_:1})]),r(l,{class:"font-light text-xs",textColor:"text-feSecondary-500 dark:text-feSecondary-500"},{default:a(()=>{var p,c;return[m(s((p=e.item)!=null&&p.vendor?t.moment((c=e.item)==null?void 0:c.vendor.addedDate).format(o.$page.props.dateFormat):""),1)]}),_:1})])])):f("",!0)]}),_:1},8,["to"])):(i(),k(A,{key:1,to:{name:"fe_other_profile",params:{userId:(E=(j=e.item)==null?void 0:j.user)==null?void 0:E.userId}}},{default:a(()=>{var g,h;return[t.showProfile?(i(),n("div",Je,[u("div",Ke,[W(u("img",Qe,null,512),[[O,{src:o.$page.props.thumb1xUrl+"/"+((h=(g=e.item)==null?void 0:g.user)==null?void 0:h.userCoverPhoto),loading:o.$page.props.sysImageUrl+"/loading_gif.gif",error:o.$page.props.sysImageUrl+"/default_photo.png"}]]),e.item.user.isVerifybluemark=="1"?(i(),k(_,{key:0,class:"bg-feInfo-500 rounded-full absolute bottom-1 left-6",name:"bluemark",textColor:"text-feSecondary-50",w:"10",h:"10"})):f("",!0)]),u("p",Ye,[r(l,{class:"truncate text-xs",textColor:"text-feSecondary-800 dark:text-feSecondary-300"},{default:a(()=>[m(s(e.item.user.userName.length>12?e.item.user.userName.slice(0,12)+" ...":e.item.user.userName),1)]),_:1}),r(l,{class:"font-light text-xs",textColor:"text-feSecondary-500 dark:text-feSecondary-500"},{default:a(()=>[m(s(e.item?t.moment(e.item.addedDate).format(o.$page.props.dateFormat):""),1)]),_:1})])])):f("",!0)]}),_:1},8,["to"]))]}),_:1})):f("",!0),((M=e.item)==null?void 0:M.adType)==t.PsConst.GOOGLE_AD?(i(),k(V,{key:1,class:"flex w-full flex-col"},{default:a(()=>[u("div",Ze,[r(d,{adFormat:"square",adStyle:"display:inline-block; width: 160px; height: 160px;",adStyleSm:"display:inline-block; width: 160px; height: 160px;",adStyleLg:"display:inline-block; width: 160px; height: 160px;"})])]),_:1})):f("",!0)]),r(D,{ref:"ps_loading_dialog"},null,512)],64)}var Bt=be(ve,[["render",$e],["__scopeId","data-v-3e780cd3"]]);export{Bt as default};
