import{i as w,j as z,k as K,z as p,o as n,f as a,w as U,a as i,b as o,g as m,c as Q,T as W,r}from"./app.72d9fe45.js";import J from"./PsContentContainer.42cd0324.js";import X from"./PsLoadingDialog.52bc8b7d.js";import Y from"./PsAdSense.e3562fb6.js";import Z from"./PsFrontendLayout.374c3b62.js";import $ from"./PsBreadcrumb2.bcdabe6c.js";import oo from"./ItemFilterCategoryDropdown.0e808440.js";import to from"./ItemFilterSubCategoryDropdown.a187e389.js";import eo from"./ItemFilterDiscountSection.ba94e391.js";import ro from"./ItemFilterStockSection.6da6d481.js";import io from"./ItemFilterPriceRangeInput.8b25d496.js";import no from"./ItemFilterCustomFieldSection.81548d32.js";import ao from"./ItemFilterCityDropdown.202f9a1b.js";import mo from"./ItemFilterTownshipDropdown.7c6297ff.js";import so from"./ItemFilterPickLocationButton.156ea12c.js";import lo from"./ItemFilterItemVerticalList.2b95c83c.js";import po from"./ItemFilterSortAndTypeSection.155dd832.js";import co from"./ItemFilterTitle.cac25246.js";import _o from"./ItemFilterKeywordInput.7065ff83.js";import uo from"./ItemFilterMobileFilterButton.6a946e81.js";import fo from"./ItemFilterClearButton.2d660cfb.js";import So from"./PsLabel.dd7b9156.js";import{u as go}from"./ProductStore.017d2a02.js";import{P as ho}from"./PsValueStore.46e374fe.js";import{u as yo}from"./AppInfoStore.3eac0301.js";import{P as y}from"./ps_constants.ea9d0b33.js";import{P as wo}from"./ProductParameterHolder.b9a2d040.js";import{A as bo}from"./AppInfoParameterHolder.e24d894d.js";import{P as Po}from"./PsUtils.eb7a8002.js";import{_ as vo}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.49a87bcd.js";import"./vue-neat-modal.d239f4e3.js";import"./PsLine.c7f2ab42.js";import"./PsLabelTitle.8e337e9e.js";import"./PsApiService.74841eb2.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./FooterView.a2566be6.js";import"./FooterLinkSection.2019a7c6.js";import"./PsLink.26c0aa15.js";import"./PsRouteLink.ab373f40.js";import"./PsLabelCaption.9bd8d857.js";import"./PsIcon.c404b5b9.js";import"./PsNavTabBar.f7d96f93.js";import"./PsDropdown.05bf646c.js";import"./PsDropdownSelect.405216fe.js";import"./PsIconToggle.4c2e7ec1.js";import"./PsInputWithLeftIcon.b188023e.js";import"./LocationModal.d02e80d4.js";import"./PsButton.81d0ce1f.js";import"./LocationParameterHolder.eedeb824.js";import"./ItemLocationTownship.94979fe0.js";import"./PsSepetetedStore.9a31ac47.js";import"./ItemLocationTownshipStore.024edc3b.js";import"./PsNavBar.42e9d556.js";import"./UserStore.e188dd03.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./ProductRelation.0b376978.js";import"./UserListParameterHolder.d110b747.js";import"./ApiStatus.5720ba0b.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./UserUnReadMessageParameterHolder.402a8a72.js";import"./AddToCartStore.7e3033c2.js";import"./PsConfirmDialog.fdc5ff76.js";import"./PsNotificationBox.38ef8701.js";import"./Phone.45f97258.js";import"./Product.0519ee40.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./Vendor.d946ee87.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./NotificationStore.09902b99.js";import"./NotiUnRegisterHolder.eefb692e.js";import"https://unpkg.com/delayed-scroll-restoration-polyfill@0.1.1/index.js";import"./CategoryStore.f69ba549.js";import"./PsStore.813293a8.js";import"./SubCategoryStore.3f10dbcb.js";import"./PsIcon.8d64a589.js";import"./Icons.c01eddd9.js";import"./PsRadio.35e3d07e.js";import"./PsInput.5af8d533.js";import"./PsErrorDialog.0ec3813f.js";import"./CustomFieldStore.48623ce1.js";import"./CustomizeUiStore.5725893c.js";import"./PsSecondaryButton.39246c7c.js";import"./MapWithMakersModal.43fcdbea.js";import"./MapWithMakers.717fbb6e.js";import"./Control.Geocoder.310b1125.js";import"./GoogleMapWithMakers.eeadaa53.js";import"./index.448b1588.js";import"./PsInputWithRightIcon.17425c09.js";const Io={name:"ItemListView",components:{PsBreadcrumb2:$,PsContentContainer:J,PsLoadingDialog:X,PsAdSense:Y,CategoryDropDown:oo,SubCategoryDropDown:to,DiscountSection:eo,StockSection:ro,PriceRangeInput:io,CustomFieldSection:no,CityDropdown:ao,TownshipDropdown:mo,PickLocationButton:so,ItemVerticalList:lo,SortAndTypeSection:po,ItemFilterTitle:co,KeywordInput:_o,MobileFilterButton:uo,ClearButton:fo,PsLabel:So},layout:Z,props:["query"],setup(b){const t=go("list"),s=yo(),e=ho(),c=w(),l=w(!0),_=new bo;t.paramHolder.parseParamsAndQuery(b.query),z(async()=>{_.userId=e.getLoginUserId(),await s.loadAppInfo(_),console.log(s==null?void 0:s.isSoldOutFeatureSettingOn()),setTimeout(async()=>{window.popStateDetected?(l.value=!1,window.popStateDetected=!1):(l.value==!0&&t.itemList.data==null&&c.value.openModal(),(t.paramHolder.orderBy!=y.FILTERING_TRENDING||t.paramHolder.orderType!=y.FILTERING__DESC)&&(t.paramHolder.sortingName=="Recent",t.paramHolder.orderBy==y.FILTERING__ADDED_DATE,t.paramHolder.orderType==y.FILTERING__DESC),await u())},1e3)}),K(()=>{t.paramHolder=new wo().getRecentParameterHolder()});async function u(){c.value.openModal(),(t.paramHolder.mile=="0"||t.paramHolder.mile.toString()=="")&&(t.paramHolder.lat="",t.paramHolder.lng=""),Po.addParamToCurrentUrl(t.getURLforListByParam(t.paramHolder)),await t.resetProductList(e.getLoginUserId(),t.paramHolder),c.value.closeModal(),l.value=!1,console.log(t.itemList.data.length)}const d=w("downArrow");function f(g,h){d.value="upArrow"}function S(g,h){d.value="downArrow"}return{ps_loading_dialog:c,itemProvider:t,appInfoStore:s,enter:f,leave:S,initial:l}},computed:{breadcrumb(){return this.itemProvider.paramHolder.catName&&this.itemProvider.paramHolder.subCatName?[{label:p("item_detail__home"),url:route("dashboard")},{label:p("category_list__title"),url:route("fe_category.index")},{label:this.itemProvider.paramHolder.catName,url:route("fe_sub_category",{cat_id:this.query.cat_id,cat_name:this.query.cat_name})},{label:this.itemProvider.paramHolder.subCatName,color:"text-fePrimary-500"}]:this.itemProvider.paramHolder.catName?[{label:p("item_detail__home"),url:route("dashboard")},{label:p("category_list__title"),url:route("fe_category.index")},{label:this.itemProvider.paramHolder.catName,color:"text-fePrimary-500"}]:[{label:p("item_detail__home"),url:route("dashboard")},{label:p("fe__search_result"),color:"text-fePrimary-500"}]}}},xo={class:"sm:mt-32 lg:mt-36 mt-28"},ko={class:"flex flex-col sm:flex-row"},Lo={class:"flex flex-row sm:mt-0 mt-6"},No={class:"relative mt-4 sm:mt-10 flex flex-row"},Oo={class:"w-64 me-7 hidden sm:flex flex-col shadow-md dark:bg-feSecondary-800 h-full p-4 rounded-lg"},Ho={class:"w-full"},Do={class:"flex flex-row justify-end"},Fo={class:"flex flex-row"},Co={class:"sm:block hidden"},To={class:"sm:hidden block"},Ao={key:0,class:"flex justify-between sm:hidden flex-col absolute top-10 right-[40px]"},Eo={class:"flex flex-col w-68 p-8 h-auto bg-feAchromatic-50 dark:bg-feSecondary-800 shadow-xl rounded-lg"},Bo={class:"mx-auto"};function Ro(b,t,s,e,c,l){const _=r("ps-breadcrumb-2"),u=r("clear-button"),d=r("category-drop-down"),f=r("discount-section"),S=r("stock-section"),g=r("price-range-input"),h=r("custom-field-section"),P=r("city-dropdown"),v=r("township-dropdown"),I=r("pick-location-button"),x=r("keyword-input"),k=r("sort-and-type-section"),V=r("mobile-filter-button"),G=r("item-vertical-list"),M=r("ps-ad-sense"),q=r("ps-loading-dialog"),j=r("ps-content-container");return n(),a(j,null,{content:U(()=>{var L,N,O,H,D,F,C;return[i("div",xo,[i("div",ko,[i("div",Lo,[o(_,{items:l.breadcrumb},null,8,["items"])])]),i("div",No,[i("div",Oo,[o(u),o(d),(L=e.appInfoStore)!=null&&L.isShowDiscount()?(n(),a(f,{key:0})):m("",!0),o(S,{isSoldOutFeatureSettingOn:(N=e.appInfoStore)==null?void 0:N.isSoldOutFeatureSettingOn()},null,8,["isSoldOutFeatureSettingOn"]),(O=e.appInfoStore)!=null&&O.isNoPriceSettingOn()?m("",!0):(n(),a(g,{key:1})),o(h),o(P),(H=e.appInfoStore)!=null&&H.isShowSubLocation()?(n(),a(v,{key:2})):m("",!0),(D=e.appInfoStore)!=null&&D.isFilterLocationOn()?(n(),a(I,{key:3})):m("",!0)]),i("div",Ho,[i("div",Do,[i("div",Fo,[o(x,{class:"sm:block hidden mx-3"}),i("div",Co,[o(k,{isNoPriceSettingOn:(F=e.appInfoStore)==null?void 0:F.isNoPriceSettingOn()},null,8,["isNoPriceSettingOn"])]),o(V)])]),o(x,{class:"sm:hidden mb-4 mt-3 sm:mb-0"}),i("div",To,[o(k,{isNoPriceSettingOn:(C=e.appInfoStore)==null?void 0:C.isNoPriceSettingOn()},null,8,["isNoPriceSettingOn"])]),o(G,{initial:e.initial},null,8,["initial"])]),e.itemProvider.showPopUpFilter?(n(),Q("div",Ao,[o(W,{onEnter:e.enter,onLeave:e.leave},{default:U(()=>{var T,A,E,B,R;return[i("div",Eo,[o(u),o(d,{class:"mb-12"}),(T=e.appInfoStore)!=null&&T.isShowDiscount()?(n(),a(f,{key:0})):m("",!0),o(S,{isSoldOutFeatureSettingOn:(A=e.appInfoStore)==null?void 0:A.isSoldOutFeatureSettingOn(),spaceWrap:!1},null,8,["isSoldOutFeatureSettingOn"]),(E=e.appInfoStore)!=null&&E.isNoPriceSettingOn()?m("",!0):(n(),a(g,{key:1})),o(h),o(P),(B=e.appInfoStore)!=null&&B.isShowSubLocation()?(n(),a(v,{key:2})):m("",!0),(R=e.appInfoStore)!=null&&R.isFilterLocationOn()?(n(),a(I,{key:3})):m("",!0)])]}),_:1},8,["onEnter","onLeave"])])):m("",!0)])]),i("div",Bo,[o(M,{adFormat:"horizontal"})]),o(q,{ref:"ps_loading_dialog",class:"z-40"},null,512)]}),_:1})}var ke=vo(Io,[["render",Ro],["__scopeId","data-v-8f89d49a"]]);export{ke as default};
