import{i as x,j as L,o as e,c as a,b as n,w as d,q as c,t as m,a as s,F as b,s as S,f as k,g as h,n as I,h as H,r as v}from"./app.72d9fe45.js";import F from"./PsLabel.dd7b9156.js";import N from"./PsDropdownSelect.405216fe.js";import U from"./PsLabelCaption.9bd8d857.js";import M from"./PsLoadingDialog.52bc8b7d.js";import{P as B}from"./PsValueStore.46e374fe.js";import{u as O}from"./CategoryStore.f69ba549.js";import{u as V}from"./SubCategoryStore.3f10dbcb.js";import{u as j}from"./ProductStore.017d2a02.js";import{P}from"./PsUtils.eb7a8002.js";import{P as z}from"./PsIcon.8d64a589.js";import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsIcon.c404b5b9.js";import"./PsModal.49a87bcd.js";import"./vue-neat-modal.d239f4e3.js";import"./PsLine.c7f2ab42.js";import"./PsLabelTitle.8e337e9e.js";import"./PsApiService.74841eb2.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./PsStore.813293a8.js";import"./PsSepetetedStore.9a31ac47.js";import"./SubCategory.1b4176e0.js";import"./ProductParameterHolder.b9a2d040.js";import"./ps_constants.ea9d0b33.js";import"./Phone.45f97258.js";import"./Product.0519ee40.js";import"./ItemCurrency.91c8ce91.js";import"./ItemLocationTownship.94979fe0.js";import"./ProductRelation.0b376978.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./Vendor.d946ee87.js";import"./ApiStatus.5720ba0b.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./Icons.c01eddd9.js";const T={name:"ItemFilterCategoryDropdown",components:{PsLabel:F,PsDropdownSelect:N,PsLabelCaption:U,PsLoadingDialog:M,PsIcon:z},setup(){const l=B(),u=O("cat"),g=V(),o=j("list"),p=x(),f=x({});function i(){u.loadItemList(l.getLoginUserId(),u.paramHolder)}L(()=>{i(),o.paramHolder.catId!==null&&_(o.paramHolder.catId)});async function _(t){await g.resetSubCategoryList(t),y(t)}function y(t){f.value={...Object.fromEntries(Object.entries(f.value).map(([C,ro])=>[C,!1])),[t]:!f.value[t]}}async function w(t){console.log("hello there"),console.log(t),o.paramHolder.subCatId=t.id,o.paramHolder.subCatName=t.name,p.value.openModal(),P.addParamToCurrentUrl(o.getURLforListByParam(o.paramHolder)),await o.resetProductList(l.getLoginUserId(),o.paramHolder),p.value.closeModal(),o.showPopUpFilter=!1,console.log(o.itemList.data)}async function r(t,C){o.paramHolder.catId=t.catId,o.paramHolder.catName=t.catName,o.paramHolder.subCatId="",o.paramHolder.subCatName="",P.addParamToCurrentUrl(o.getURLforListByParam(o.paramHolder)),p.value.openModal(),await o.resetProductList(l.getLoginUserId(),o.paramHolder),g.resetSubCategoryList(t.catId),p.value.closeModal(),o.showPopUpFilter=C}return{categoryStore:u,itemProvider:o,loadCategory:i,categoryFilterClicked:r,ps_loading_dialog:p,loadSubCategory:_,subCategoryStore:g,subCategoryFilterClicked:w,isDropdownOpen:f,clickDropDown:y}}},E={class:"rounded-md shadow-xs w-56"},q={class:"pt-2 z-30 w-full"},D={key:0},A={key:1},G={class:"relative text-left text-sm"},J={class:"w-full bg-transparent"},K={class:"flex flex-row justify-between items-center overflow-hidden"},Q={key:0,class:"w-full overflow-hidden"},W={class:"z-30"},X={key:0},Y={key:1},Z={class:"mt-2 px-2"},$=["onClick"],oo={class:"mb-2 w-56"},to={key:0,class:"mt-4 ms-4 flex"};function eo(l,u,g,o,p,f){const i=v("ps-label"),_=v("ps-icon"),y=v("ps-label-caption"),w=v("ps-loading-dialog");return e(),a(b,null,[n(i,{class:"mt-6 lg:text-base font-medium text-sm",textColor:"text-feSecondary-800 dark:text-feSecondary-300"},{default:d(()=>[c(m(l.$t("category_list__title")),1)]),_:1}),s("div",E,[s("div",q,[o.categoryStore.itemList.data==null?(e(),a("div",D,[n(i,{class:"p-2 flex",onClick:o.loadCategory},{default:d(()=>[c(m(l.$t("list__loading")),1)]),_:1},8,["onClick"])])):(e(),a("div",A,[(e(!0),a(b,null,S(o.categoryStore.itemList.data,r=>(e(),a("div",{key:r.catId,class:"py-2 px-1"},[s("div",G,[s("button",J,[s("div",K,[n(i,{onClick:t=>o.categoryFilterClicked(r,!1)},{default:d(()=>[c(m(r.catName),1)]),_:2},1032,["onClick"]),o.isDropdownOpen[r.catId]?h("",!0):(e(),k(_,{key:0,name:"rightChervon",w:"20",h:"20",onClick:t=>(o.loadSubCategory(r.catId),o.categoryFilterClicked(r,!0)),class:"ltr:mr-3 rtl:ml-3 ltr:block hidden text-feSecondary-500 dark:text-feSecondary-100"},null,8,["onClick"])),o.isDropdownOpen[r.catId]?(e(),k(_,{key:2,name:"downChervon",w:"20",h:"20",onClick:t=>(o.loadSubCategory(r.catId),o.categoryFilterClicked(r,!0)),class:"ltr:mr-3 rtl:ml-3 text-feSecondary-500 dark:text-feSecondary-100"},null,8,["onClick"])):(e(),k(_,{key:1,name:"leftChervon",w:"20",h:"20",onClick:t=>(o.loadSubCategory(r.catId),o.categoryFilterClicked(r,!0)),class:"ltr:mr-3 rtl:ml-3 rtl:block hidden text-feSecondary-500 dark:text-feSecondary-100"},null,8,["onClick"]))])])]),o.isDropdownOpen[r.catId]?(e(),a("div",Q,[s("div",W,[o.subCategoryStore.subCategoryList.data==null?(e(),a("div",X,[n(i,{class:"p-2 flex"},{default:d(()=>[c(m(l.$t("list__loading")),1)]),_:1})])):(e(),a("div",Y,[s("div",Z,[(e(!0),a(b,null,S(o.subCategoryStore.subCategoryList.data,t=>(e(),a("div",{key:t.id,class:"w-full flex py-3 cursor-pointer",onClick:C=>o.subCategoryFilterClicked(t)},[n(i,{class:"text-sm font-medium text-ellipsis overflow-hidden",textColor:t.id===o.itemProvider.paramHolder.subCatId?"text-fePrimary-500":""},{default:d(()=>[c(m(t.name),1)]),_:2},1032,["textColor"])],8,$))),128))])]))])])):h("",!0)]))),128)),s("div",oo,[o.categoryStore.itemList.data!=null&&o.categoryStore.loading.value==!0?(e(),a("div",to,[n(y,null,{default:d(()=>[c(m(l.$t("list__loading")),1)]),_:1})])):h("",!0),o.categoryStore.loading.value==!1?(e(),k(i,{key:1,class:I([o.categoryStore.isNoMoreRecord.value?"hidden":"","flex py-2 text-sm cursor-pointer"]),textColor:"text-fePrimary-500",onClick:H(o.loadCategory,["stop"])},{default:d(()=>[c(m(l.$t("filter_search_view_more")),1)]),_:1},8,["class","onClick"])):h("",!0)])]))])]),n(w,{ref:"ps_loading_dialog",class:"z-40"},null,512)],64)}var Do=R(T,[["render",eo]]);export{Do as default};
