(function(n,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue-demi")):typeof define=="function"&&define.amd?define(["exports","vue-demi"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.VueUseStripe={},n.VueDemi))})(this,function(n,e){"use strict";var y=Object.assign;const p={base:{color:"#32325d",fontFamily:"Helvetica Neue, Roboto",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}};function b({key:r,elements:a=[],constructorOptions:c,elementsOptions:d}){const i=e.ref(null),l=e.ref(null),s=a.map(()=>e.ref(null)),o=()=>typeof window=="undefined"||!window.Stripe?!1:(i.value=window.Stripe(r,c),l.value=i.value.elements(d),a.forEach(({type:t,options:f},u)=>{s[u].value=l.value.create(t,y({style:p},f))}),!0),h=t=>{if(t)try{t.unmount(),t.destroy()}catch(f){}};return e.onMounted(()=>{if(!o()){let t=0;const f=setInterval(()=>{t++;const u=o();(u||t>10)&&(clearInterval(f),u||console.error("Stripe library is not loaded"))},500)}}),e.onBeforeUnmount(()=>{s.forEach(t=>h(t.value))}),{stripe:i,stripeElements:l,elements:s}}const m=["change","focus","blur","click","ready"];var S=e.defineComponent({name:"StripeElement",props:{element:{type:Object,default:null}},emits:m,setup(r,{emit:a}){const c=e.ref(null),d=i=>{const[l,...s]=m;for(const o of s)i.on(o,()=>a(o));r.element.on(l,o=>a(l,o))};return e.onMounted(()=>{e.watchEffect(()=>{if(!r.element)return;d(r.element),r.element.mount(c.value)})}),{domRef:c}},render(){return e.h("div",{ref:"domRef"})}});n.StripeElement=S,n.baseStyle=p,n.useStripe=b,Object.defineProperty(n,"__esModule",{value:!0})});
